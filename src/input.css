@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定义组件样式 */
@layer components {
  .note-card { 
    @apply transition-all duration-200; 
  }

  .note-card:hover { 
    @apply -translate-y-0.5 shadow-lg; 
  }

  .tag { 
    @apply inline-block bg-sky-50 text-sky-700 px-2 py-1 rounded-full text-xs mr-1; 
  }

  .category { 
    @apply font-bold text-blue-700; 
  }

  .search-input { 
    @apply rounded-lg px-4 py-2 border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none; 
  }

  /* 可拖拽弹窗样式 */
  .draggable-modal {
    @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 cursor-default;
  }

  .drag-handle {
    @apply cursor-default select-none;
  }

  /* 全屏模式样式 */
  .fullscreen-modal {
    @apply fixed inset-0 w-screen h-screen z-50 bg-white overflow-hidden;
  }

  .fullscreen-modal .modal-content {
    @apply w-screen h-screen max-w-none max-h-none rounded-none shadow-none m-0 p-0 flex flex-col;
  }

  .fullscreen-modal .modal-header {
    @apply flex-shrink-0 w-full p-4 border-b border-gray-200 bg-gray-50 box-border;
  }

  .fullscreen-modal .modal-body {
    @apply flex-1 w-full overflow-hidden flex flex-col box-border;
  }

  .fullscreen-modal .modal-footer {
    @apply flex-shrink-0 w-full p-4 border-t border-gray-200 bg-gray-50 box-border;
  }

  .fullscreen-modal .editor-container {
    @apply flex-1 w-full flex flex-col min-h-0 box-border;
  }

  .fullscreen-modal .editor-textarea {
    @apply flex-1 w-full min-h-96 resize-none border-0 outline-none font-mono text-sm p-4 box-border;
  }

  .fullscreen-modal .preview-container {
    @apply flex-1 w-full overflow-y-auto min-h-96 p-4 bg-gray-50 box-border;
  }

  /* 模糊搜索下拉建议 */
  .suggest-list { 
    @apply absolute z-50 bg-white border border-gray-200 rounded-md shadow-lg max-h-56 overflow-y-auto w-full; 
  }

  .suggest-item { 
    @apply px-3 py-2 text-sm cursor-pointer; 
  }

  .suggest-item:hover { 
    @apply bg-gray-100; 
  }

  .suggest-item.active { 
    @apply bg-blue-50; 
  }

  /* 组件样式 */
  .modal-backdrop {
    @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  }

  .modal-content {
    @apply bg-white rounded-lg shadow-2xl max-w-[90vw] max-h-[90vh] overflow-y-auto;
  }

  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-all duration-200 cursor-pointer border border-transparent;
  }

  .btn-primary {
    @apply bg-blue-600 text-white;
  }

  .btn-primary:hover {
    @apply bg-blue-700;
  }

  .btn-secondary {
    @apply bg-gray-600 text-white;
  }

  .btn-secondary:hover {
    @apply bg-gray-700;
  }

  .btn-danger {
    @apply bg-red-600 text-white;
  }

  .btn-danger:hover {
    @apply bg-red-700;
  }

  .btn-success {
    @apply bg-green-600 text-white;
  }

  .btn-success:hover {
    @apply bg-green-700;
  }

  .btn-outline {
    @apply bg-transparent text-gray-700 border-gray-300;
  }

  .btn-outline:hover {
    @apply bg-gray-100;
  }

  /* 加载状态 */
  .loading {
    @apply opacity-60 cursor-not-allowed;
  }

  .spinner {
    @apply inline-block w-4 h-4 border-2 border-gray-200 rounded-full border-t-blue-600 animate-spin;
  }
}

/* 响应式设计 */
@layer utilities {
  @media (max-width: 768px) {
    .modal-content {
      @apply max-w-[95vw] m-4;
    }
    
    .grid-responsive {
      @apply grid-cols-1;
    }
  }
}

/* 工具类 - 这些类已经在 Tailwind 中定义，不需要重复定义 */
